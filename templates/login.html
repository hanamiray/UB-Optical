<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Admin Login - U-B Optical</title>
    <link rel="website icon" type="png" href="{{ url_for('images', filename='logo2.png') }}" alt="Logo">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
</head>
<body>
    <div class="login-container">
        <!-- Logo Header -->
        <div class="login-header">
            <div class="logo-container">
                <img class="logo-img" src="{{ url_for('static', filename='images/logo2.png') }}" alt="UB Optical Logo">
                <div class="logo-text-container">
                    <div class="logo-text"><span>U-B</span> Optical</div>
                    <div class="logo-subtext">Ulic-Ulic Buenaobra Optical</div>
                </div>
            </div>
        </div>

        <!-- Login Form -->
        <div class="login-form-container">
            <div class="login-card">
                <div class="card-header">

            <!-- Replace the back button with this SIMPLE version -->
            <a href="{{ url_for('index') }}" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </a>


                    <h2>Administrator Login</h2>
                    <p>Please enter your credentials to access the system</p>
                </div>

                <!-- Modified Form -->
                <form id="loginForm" class="login-form" action="{{ url_for('login') }}" method="POST" autocomplete="off">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <div class="input-group">
                                <i class="fas fa-user"></i>
                                <input type="text" id="email" name="email" placeholder="Enter your email" required autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-group">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="password" name="password" placeholder="Enter your password" required autocomplete="off">
                                <button type="button" class="toggle-password" id="togglePassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" name="remember"> Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot password?</a>
                    </div>

                    <button type="submit" class="login-btn">
                        <i class="fas fa-sign-in-alt"></i> LOGIN
                    </button>

                    <div class="form-footer">
                        <p>Secure access to U-B Optical patient records system</p>
                    </div> 
                </form>
            </div>
        </div>
    </div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    // Clear form fields
    document.getElementById('email').value = '';
    document.getElementById('password').value = '';
    
    // Disable browser autofill
    document.getElementById('email').autocomplete = 'off';
    document.getElementById('password').autocomplete = 'new-password';
    
    // Password toggle functionality
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    const eyeIcon = togglePassword.querySelector('i');
    
    togglePassword.addEventListener('click', function() {
        // Toggle password field type
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        
        // Toggle eye icon
        eyeIcon.classList.toggle('fa-eye');
        eyeIcon.classList.toggle('fa-eye-slash');
    });
    
    // Prevent back button after logout
    history.pushState(null, null, location.href);
    window.onpopstate = function() {
        history.go(1);
        window.location.href = "{{ url_for('login') }}";
    };
});
</script>


<script>
// PIGILAN ANG BACK BUTTON PAGKATAPOS MAG-LOGOUT
history.pushState(null, null, document.URL);
window.addEventListener('popstate', function() {
    history.pushState(null, null, document.URL);
    window.location.href = "{{ url_for('login') }}";  // PALAGING BUMALIK SA LOGIN
});

// ICLEAR ANG FORM FIELDS PAG-RELOAD/BACK BUTTON
window.onload = function() {
    document.getElementById('email').value = '';
    document.getElementById('password').value = '';
    
    // DISABLE BROWSER AUTOFILL
    document.getElementById('email').autocomplete = 'off';
    document.getElementById('password').autocomplete = 'new-password';
};
</script>




</body>
</html>